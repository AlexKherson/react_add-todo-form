{"version":3,"sources":["api/users.ts","components/UserInfo/UserInfo.tsx","components/TodoInfo/TodoInfo.tsx","components/TodoList/TodoList.tsx","App.tsx","api/todos.ts","helpers/getTodosInfo.ts","helpers/removeByPattern.ts","index.tsx"],"names":["id","name","username","email","UserInfo","user","className","href","TodoInfo","todo","classNames","completed","title","TodoList","todos","map","todosInfo","userId","todoUser","usersFromServer","find","App","useState","setTitle","selectedUser","setSelectedUser","setTodos","errorTitle","setErrorTitle","errorSelectedUser","setErrorSelectedUser","Container","maxWidth","sx","display","flexDirection","alignItems","Box","width","mb","onSubmit","event","preventDefault","userInfo","Error","prev","newTodo","Math","max","FormControl","fullWidth","error","size","TextField","label","onChange","newTitle","target","value","patternedTitle","text","pattern","replaceAll","removeByPattern","type","InputLabel","Select","labelId","MenuItem","justifyContent","Button","color","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.27d0a2c2.chunk.js","sourcesContent":["export default [\n  {\n    id: 1,\n    name: 'Leanne Graham',\n    username: 'Bret',\n    email: 'Sincere@april.biz',\n  },\n  {\n    id: 2,\n    name: 'Ervin Howell',\n    username: 'Antonette',\n    email: 'Shanna@melissa.tv',\n  },\n  {\n    id: 3,\n    name: 'Clementine Bauch',\n    username: 'Samantha',\n    email: 'Nathan@yesenia.net',\n  },\n  {\n    id: 4,\n    name: 'Patricia Lebsack',\n    username: 'Karianne',\n    email: 'Julianne.OConner@kory.org',\n  },\n  {\n    id: 5,\n    name: 'Chelsey Dietrich',\n    username: 'Kamren',\n    email: 'Lucio_Hettinger@annie.ca',\n  },\n  {\n    id: 6,\n    name: 'Mrs. Dennis Schulist',\n    username: 'Leopoldo_Corkery',\n    email: 'Karley_Dach@jasper.info',\n  },\n  {\n    id: 7,\n    name: 'Kurtis Weissnat',\n    username: 'Elwyn.Skiles',\n    email: 'Telly.Hoeger@billy.biz',\n  },\n  {\n    id: 8,\n    name: 'Nicholas Runolfsdottir V',\n    username: 'Maxime_Nienow',\n    email: 'Sherwood@rosamond.me',\n  },\n  {\n    id: 9,\n    name: 'Glenna Reichert',\n    username: 'Delphine',\n    email: 'Chaim_McDermott@dana.io',\n  },\n  {\n    id: 10,\n    name: 'Clementina DuBuque',\n    username: 'Moriah.Stanton',\n    email: 'Rey.Padberg@karina.biz',\n  },\n];\n","import { FC } from 'react';\nimport { User } from '../../types/user';\n\ntype UserProps = {\n  user: User,\n};\n\nexport const UserInfo: FC<UserProps> = ({ user }) => {\n  return (\n    <a className=\"UserInfo\" href={`mailto:${user.email}`}>\n      {user.name}\n    </a>\n  );\n};\n","import { FC } from 'react';\nimport classNames from 'classnames';\nimport { TodoFullInfo } from '../../types/todoFullInfo';\nimport { UserInfo } from '../UserInfo';\n\ntype TodoProps = {\n  todo: TodoFullInfo,\n};\n\nexport const TodoInfo: FC<TodoProps> = ({ todo }) => {\n  return (\n    <article\n      data-id={todo.id}\n      className={classNames(\n        'TodoInfo',\n        {\n          'TodoInfo--completed': todo.completed,\n        },\n      )}\n    >\n      <h2 className=\"TodoInfo__title\">\n        {todo.title}\n      </h2>\n\n      {todo.user\n        ? (<UserInfo user={todo.user} />)\n        : ('unknown user')}\n\n    </article>\n  );\n};\n","import { FC } from 'react';\nimport { TodoFullInfo } from '../../types/todoFullInfo';\nimport { TodoInfo } from '../TodoInfo';\n\ntype PropsTodos = {\n  todos: TodoFullInfo[]\n};\n\nexport const TodoList: FC<PropsTodos> = ({ todos }) => {\n  return (\n    <section className=\"TodoList\">\n      {todos.map(todo => (\n        <TodoInfo key={todo.id} todo={todo} />\n      ))}\n    </section>\n  );\n};\n","import { FormEvent, useState } from 'react';\nimport './App.scss';\nimport {\n  FormControl, InputLabel, MenuItem, Select,\n  Button,\n  TextField,\n  Container,\n  Box,\n} from '@mui/material';\nimport usersFromServer from './api/users';\nimport { TodoList } from './components/TodoList';\nimport { getTodosInfo } from './helpers/getTodosInfo';\nimport { removeByPattern } from './helpers/removeByPattern';\n\nconst todosInfo = getTodosInfo();\n\nexport const App = () => {\n  const [title, setTitle] = useState('');\n  const [selectedUser, setSelectedUser] = useState<string>('');\n  const [todos, setTodos] = useState(todosInfo);\n  const [errorTitle, setErrorTitle] = useState('');\n  const [errorSelectedUser, setErrorSelectedUser] = useState('');\n\n  const changeUser = (id: string) => {\n    if (id !== '') {\n      setErrorSelectedUser('');\n    }\n\n    setSelectedUser(id);\n  };\n\n  const changeTitle = (event: React.ChangeEvent<HTMLInputElement>) => {\n    const newTitle = event.target.value;\n\n    if (newTitle !== '') {\n      setErrorTitle('');\n    }\n\n    const pattern = /[@^#$/%^&*()_+-\\\\{}[\\]]/g;\n    const patternedTitle = removeByPattern(newTitle, pattern);\n\n    setTitle(patternedTitle);\n  };\n\n  const clearForm = () => {\n    setTitle('');\n    setSelectedUser('');\n  };\n\n  const handleSubmit = (event:FormEvent) => {\n    event.preventDefault();\n\n    if (!title || !selectedUser) {\n      setErrorTitle(title ? '' : 'Please enter a title');\n      setErrorSelectedUser(selectedUser ? '' : 'Please choose a user');\n\n      return;\n    }\n\n    const userInfo = usersFromServer\n      .find(user => user.id === +selectedUser);\n\n    if (!userInfo) {\n      throw new Error('User not found');\n    }\n\n    setTodos((prev) => {\n      const maxId = Math.max(...prev.map(todo => todo.id));\n\n      const newTodo = {\n        id: maxId + 1,\n        title,\n        userId: userInfo.id,\n        completed: false,\n        user: userInfo,\n      };\n\n      return [...prev, newTodo];\n    });\n\n    clearForm();\n  };\n\n  return (\n    <>\n      <Container\n        maxWidth=\"sm\"\n        sx={{\n          display: 'flex',\n          flexDirection: 'column',\n          alignItems: 'center',\n        }}\n      >\n\n        <h1>Add todo form</h1>\n\n        <Box\n          sx={{\n            width: '50%',\n            mb: 5,\n          }}\n        >\n          <form\n            onSubmit={handleSubmit}\n          >\n\n            <FormControl\n              fullWidth\n              error={errorTitle !== ''}\n              size=\"small\"\n            >\n              <TextField\n                data-cy=\"titleInput\"\n                label=\"Enter title\"\n                onChange={changeTitle}\n                type=\"text\"\n                sx={{ mb: 3 }}\n                fullWidth\n                value={title}\n                error={errorTitle !== ''}\n              />\n            </FormControl>\n\n            <FormControl fullWidth>\n              <InputLabel id=\"user-select-label\">\n                Choose user\n              </InputLabel>\n              <Select\n                data-cy=\"userSelect\"\n                labelId=\"user-select-label\"\n                id=\"user-simple-select\"\n                sx={{ mb: 3 }}\n                value={selectedUser}\n                label=\"Choose user\"\n                onChange={(event) => changeUser(event.target.value)}\n                error={errorSelectedUser !== ''}\n              >\n                {usersFromServer.map(user => (\n                  <MenuItem\n                    key={user.id}\n                    value={user.id}\n                  >\n                    {user.name}\n                  </MenuItem>\n                ))}\n              </Select>\n            </FormControl>\n\n            <Box\n              sx={{\n                display: 'flex',\n                justifyContent: 'flex-end',\n              }}\n            >\n              <Button\n                data-cy=\"submitButton\"\n                type=\"submit\"\n                color=\"success\"\n              >\n                Add\n              </Button>\n            </Box>\n\n          </form>\n        </Box>\n        <TodoList todos={todos} />\n      </Container>\n    </>\n  );\n};\n","export default [\n  {\n    id: 1,\n    title: 'delectus aut autem',\n    completed: true,\n    userId: 1,\n  },\n  {\n    id: 15,\n    title: 'some other todo',\n    completed: false,\n    userId: 1,\n  },\n  {\n    id: 2,\n    title: 'quis ut nam facilis et officia qui',\n    completed: false,\n    userId: 4,\n  },\n];\n","import { TodoFullInfo } from '../types/todoFullInfo';\nimport { User } from '../types/user';\nimport usersFromServer from '../api/users';\nimport todosFromServer from '../api/todos';\n\nexport function getTodosInfo(): TodoFullInfo[] {\n  return todosFromServer\n    .map(todo => {\n      const todoUser: User | null = usersFromServer\n        .find(user => user.id === todo.userId) || null;\n\n      return {\n        ...todo,\n        user: todoUser,\n      };\n    });\n}\n","export function removeByPattern(\n  text:string,\n  pattern: RegExp,\n): string {\n  return text.replaceAll(pattern, '');\n}\n","import ReactDOM from 'react-dom';\nimport { App } from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}